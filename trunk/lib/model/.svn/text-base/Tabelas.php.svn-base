<?php


/**
 * Skeleton subclass for representing a row from the 'tabelas' table.
 *
 * 
 *
 * This class was autogenerated by Propel 1.4.1 on:
 *
 * Mon Jun 14 01:08:18 2010
 *
 * You should add additional methods to this class to meet the
 * application requirements.  This class will only be generated as
 * long as it does not already exist in the output directory.
 *
 * @package    lib.model
 */
class Tabelas extends BaseTabelas {

public function getMapping($format='html')
{	
	$elements=array();
	foreach ($this->getCampos() as $campo)
	{
		$f="%s";
		if (($format=='rdf'))
		{
			$f=$campo->getDeFormato()==''?"%s":$campo->getDeFormato();			
		}
		
		if (($format=='xml'))
		{						
			if ($campo->getIdTipo()==2) //  Texto
			{
				$f=$campo->getDeFormato()==''?"<![CDATA[%s]]>":$f;
				
			}
		}		
		$elements[$campo->getNmCampo()]=array("element"=>$campo->getNmPopularCampo(), "format"=>$f);
	}	
	return array("element"=>$this->getNmPopularTabela(),
	             "hydrate"=>"false",
	             "elements"=>$elements);
}

public function getCampos($count=false)
{
	$ativos=new Criteria();
    $ativos->add(DicionarioDadosPeer::FL_ATIVO,'S');
	$ativos->addAscendingOrderByColumn(DicionarioDadosPeer::ID_CAMPO);
    return $count?$this->countDicionarioDadoss($ativos):$this->getDicionarioDadoss($ativos);
}

public function getCamposEntrada($count=false)
{
	$ativos=new Criteria();
    $ativos->add(DicionarioDadosPeer::FL_ATIVO,'S');
    $ativos->add(DicionarioDadosPeer::FL_ENTRADA,'S');
    return $count?$this->countDicionarioDadoss($ativos):$this->getDicionarioDadoss($ativos);
}

public function getCamposRequerido($count=false)
{
	$ativos=new Criteria();
    $ativos->add(DicionarioDadosPeer::FL_ATIVO,'S');
    $ativos->add(DicionarioDadosPeer::FL_REQUERIDO,'S');
    return $count?$this->countDicionarioDadoss($ativos):$this->getDicionarioDadoss($ativos);
}

public function hasTextOutput()
{
	$reflectionObj = new ReflectionClass(sfInflector::classify($this->getNmTabela())); 	
	return method_exists($reflectionObj,'asXML');
}

public function __toString()
{
	return $this->getNmTabela();
}

} // Tabelas
sfPropelBehavior::add('Tabelas', array('text_output'));
